<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Visualizing US Polls and Election Results • electionViz</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Visualizing US Polls and Election Results">
<meta property="og:description" content="What the package does (one paragraph).">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">electionViz</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="electionviz" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#electionviz" class="anchor"></a>electionViz</h1></div>
<!-- badges: start -->

<p>R package for visualizations of election (or poll) results as easy as adding <code>geom_electoral_building</code>. While the geom is still in the planning stages, several types of visualizations are implemented and ready to use.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>The development version from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="co"># install.packages("devtools")</span></a>
<a class="sourceLine" id="cb1-2" title="2">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"heike/electionViz"</span>)</a></code></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>We will be inundated with information about the state of the polls in the build-up to the upcoming Presidential election of 2020.</p>
<p>With the tools of this package you will be able to pick your favorite visualization(s) and explore the results your own way.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="co"># load the package</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(electionViz)</a>
<a class="sourceLine" id="cb2-3" title="3"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tidyverse)</a></code></pre></div>
<div id="hexbin-cartogram-of-election-results-by-state" class="section level3">
<h3 class="hasAnchor">
<a href="#hexbin-cartogram-of-election-results-by-state" class="anchor"></a>Hexbin Cartogram of Election Results by State</h3>
<p>Each state is represented by one hexagon. This map has been made available by Andrew X Hill at <a href="https://team.carto.com/u/andrew/tables/andrew.us_states_hexgrid/public/map">CARTO</a>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(elections)</a>
<a class="sourceLine" id="cb3-2" title="2">el12 &lt;-<span class="st"> </span>elections <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/filter">filter</a></span>(year <span class="op">==</span><span class="st"> </span><span class="dv">2012</span>)</a>
<a class="sourceLine" id="cb3-3" title="3">gg12 &lt;-<span class="st"> </span><span class="kw"><a href="reference/hexplot.html">hexplot</a></span>(el12<span class="op">$</span>state, el12<span class="op">$</span>perc_rep <span class="op">&gt;</span><span class="st"> </span>el12<span class="op">$</span>perc_dem) <span class="op">+</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="st">  </span><span class="kw"><a href="reference/scale_fill_party.html">scale_fill_party</a></span>(<span class="st">""</span>, <span class="dt">labels=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"Democrat"</span>, <span class="st">"Republican"</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">"bottom"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">"Election 2012"</span>)</a>
<a class="sourceLine" id="cb3-7" title="7"></a>
<a class="sourceLine" id="cb3-8" title="8">el16 &lt;-<span class="st"> </span>elections <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/filter">filter</a></span>(year <span class="op">==</span><span class="st"> </span><span class="dv">2016</span>)</a>
<a class="sourceLine" id="cb3-9" title="9">gg16 &lt;-<span class="st"> </span><span class="kw"><a href="reference/hexplot.html">hexplot</a></span>(el16<span class="op">$</span>state, el16<span class="op">$</span>perc_rep <span class="op">&gt;</span><span class="st"> </span>el16<span class="op">$</span>perc_dem) <span class="op">+</span></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="st">  </span><span class="kw"><a href="reference/scale_fill_party.html">scale_fill_party</a></span>(<span class="st">""</span>, <span class="dt">labels=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"Democrat"</span>, <span class="st">"Republican"</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb3-11" title="11"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">"bottom"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb3-12" title="12"><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">"Election 2016"</span>)</a>
<a class="sourceLine" id="cb3-13" title="13"></a>
<a class="sourceLine" id="cb3-14" title="14">gridExtra<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/gridExtra/topics/arrangeGrob">grid.arrange</a></span>(gg12, gg16, <span class="dt">ncol=</span><span class="dv">2</span>)</a></code></pre></div>
<p><img src="reference/figures/README-example-1.png" width="100%"></p>
</div>
<div id="hexbin-cartogram-of-the-us-presidential-election-by-electoral-votes" class="section level3">
<h3 class="hasAnchor">
<a href="#hexbin-cartogram-of-the-us-presidential-election-by-electoral-votes" class="anchor"></a>Hexbin Cartogram of the US Presidential Election by Electoral Votes</h3>
<p>Each state is represented by a set of hexagons corresponding in number to the state’s electoral votes. This map was adapted from the object <code>sf_FiveThirtyEightElectoralCollege</code> in Bhaskar Karambelkar’s R package <a href="https://github.com/bhaskarvk/tilegramsR">tilegramsR</a>.</p>
<p><img src="reference/figures/README-electoral-1.png" width="100%"></p>
</div>
<div id="electoral-building-of-the-u-s--presidential-election-by-electoral-votes-and-margin-of-victory" class="section level3">
<h3 class="hasAnchor">
<a href="#electoral-building-of-the-u-s--presidential-election-by-electoral-votes-and-margin-of-victory" class="anchor"></a>Electoral Building of the U.S. Presidential Election by Electoral Votes and Margin of Victory</h3>
<p>“Electoral Building” diagram, inspired by a 2000 graphic from the New York Times. Vote margin is represented on the x axis, while number of electoral votes is represented in the height.</p>
<p><img src="reference/figures/README-building-1.png" width="70%"></p>
</div>
</div>
<div id="visualization-of-polls" class="section level2">
<h2 class="hasAnchor">
<a href="#visualization-of-polls" class="anchor"></a>Visualization of Polls</h2>
<p>Accessing data of the most recent polls from RealClearPolitics or FiveThirtyEight is done with functions <code><a href="reference/rcp_update.html">rcp_update()</a></code> or <code><a href="reference/fivethirtyeight_update.html">fivethirtyeight_update()</a></code> respectively. Each one of these functions has a parameter <code>polls</code> to allow for a finer grained choice of which polls to focus on:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">new_polls &lt;-<span class="st"> </span><span class="kw"><a href="reference/fivethirtyeight_update.html">fivethirtyeight_update</a></span>(<span class="dt">polls=</span><span class="st">"president_polls"</span>)</a>
<a class="sourceLine" id="cb4-2" title="2">new_polls <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/filter">filter</a></span>(<span class="op">!</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/NA">is.na</a></span>(state)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="st">  </span><span class="kw">select</span>(poll_id, start_date, end_date, pollster, state, candidate_name, pct)</a>
<a class="sourceLine" id="cb4-4" title="4"><span class="co">#&gt; # A tibble: 3,022 x 7</span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="co">#&gt;    poll_id start_date end_date   pollster         state    candidate_name    pct</span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="co">#&gt;      &lt;dbl&gt; &lt;date&gt;     &lt;date&gt;     &lt;chr&gt;            &lt;chr&gt;    &lt;chr&gt;           &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="co">#&gt;  1   67827 2020-07-16 2020-07-28 University of N… New Ham… Joseph R. Bide…    53</span></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="co">#&gt;  2   67827 2020-07-16 2020-07-28 University of N… New Ham… Donald Trump       40</span></a>
<a class="sourceLine" id="cb4-9" title="9"><span class="co">#&gt;  3   67821 2020-07-23 2020-07-27 Monmouth Univer… Georgia  Joseph R. Bide…    47</span></a>
<a class="sourceLine" id="cb4-10" title="10"><span class="co">#&gt;  4   67821 2020-07-23 2020-07-27 Monmouth Univer… Georgia  Donald Trump       47</span></a>
<a class="sourceLine" id="cb4-11" title="11"><span class="co">#&gt;  5   67821 2020-07-23 2020-07-27 Monmouth Univer… Georgia  Jo Jorgensen        3</span></a>
<a class="sourceLine" id="cb4-12" title="12"><span class="co">#&gt;  6   67821 2020-07-23 2020-07-27 Monmouth Univer… Georgia  Joseph R. Bide…    47</span></a>
<a class="sourceLine" id="cb4-13" title="13"><span class="co">#&gt;  7   67821 2020-07-23 2020-07-27 Monmouth Univer… Georgia  Donald Trump       48</span></a>
<a class="sourceLine" id="cb4-14" title="14"><span class="co">#&gt;  8   67821 2020-07-23 2020-07-27 Monmouth Univer… Georgia  Jo Jorgensen        2</span></a>
<a class="sourceLine" id="cb4-15" title="15"><span class="co">#&gt;  9   67821 2020-07-23 2020-07-27 Monmouth Univer… Georgia  Joseph R. Bide…    46</span></a>
<a class="sourceLine" id="cb4-16" title="16"><span class="co">#&gt; 10   67821 2020-07-23 2020-07-27 Monmouth Univer… Georgia  Donald Trump       49</span></a>
<a class="sourceLine" id="cb4-17" title="17"><span class="co">#&gt; # … with 3,012 more rows</span></a></code></pre></div>
<div id="polls-by-state" class="section level3">
<h3 class="hasAnchor">
<a href="#polls-by-state" class="anchor"></a>Polls by State</h3>
<p>The difference in percentage between democratic and republican percentage of the last five polls (of likely or registered voters) for each state are shown as grey points, colored points show average difference for each point. States are ordered according to difference in percentage. The yewllow rectangle shows a margin of +/- 5 percent - the typical margin of error of a poll.</p>
<pre><code>#&gt; Warning: Removed 1 rows containing missing values (geom_point).</code></pre>
<p><img src="reference/figures/README-unnamed-chunk-4-1.png" width="100%"></p>
</div>
<div id="building-of-polls" class="section level3">
<h3 class="hasAnchor">
<a href="#building-of-polls" class="anchor"></a>Building of polls</h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">state_<span class="dv">3</span> &lt;-<span class="st"> </span>state_<span class="dv">3</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/filter">filter</a></span>(<span class="op">!</span>(state <span class="op">%in%</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"Maine"</span>, <span class="st">"Nebraska"</span>)))</a>
<a class="sourceLine" id="cb6-2" title="2"><span class="kw"><a href="reference/electoral_building.html">electoral_building</a></span>(</a>
<a class="sourceLine" id="cb6-3" title="3">    <span class="dt">state_district =</span> state_<span class="dv">3</span><span class="op">$</span>state, </a>
<a class="sourceLine" id="cb6-4" title="4">    <span class="dt">electoral_votes =</span> state_<span class="dv">3</span><span class="op">$</span>electoral_votes, </a>
<a class="sourceLine" id="cb6-5" title="5">    <span class="dt">perc_dem =</span> state_<span class="dv">3</span><span class="op">$</span>perc_dem, </a>
<a class="sourceLine" id="cb6-6" title="6">    <span class="dt">perc_rep =</span> state_<span class="dv">3</span><span class="op">$</span>perc_rep,</a>
<a class="sourceLine" id="cb6-7" title="7">    <span class="dt">source =</span> state_<span class="dv">3</span><span class="op">$</span>source) <span class="op">+</span></a>
<a class="sourceLine" id="cb6-8" title="8"><span class="st">  </span><span class="kw"><a href="reference/scale_color_party.html">scale_color_party</a></span>(<span class="st">"Party"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb6-9" title="9"><span class="st">  </span><span class="kw"><a href="reference/scale_fill_party.html">scale_fill_party</a></span>(<span class="st">"Party"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb6-10" title="10"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">"none"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb6-11" title="11"><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">"Electoral building, based on polls"</span>)</a></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-5-1.png" width="70%"></p>
</div>
<div id="a-snake-of-beads" class="section level3">
<h3 class="hasAnchor">
<a href="#a-snake-of-beads" class="anchor"></a>A snake of beads</h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="kw"><a href="reference/bead_snake_plot.html">bead_snake_plot</a></span>(</a>
<a class="sourceLine" id="cb7-2" title="2">   electoral_votes_<span class="dv">2016</span><span class="op">$</span>state_district,</a>
<a class="sourceLine" id="cb7-3" title="3">   electoral_votes_<span class="dv">2016</span><span class="op">$</span>electoral_votes,</a>
<a class="sourceLine" id="cb7-4" title="4">   electoral_votes_<span class="dv">2016</span><span class="op">$</span>perc_dem,</a>
<a class="sourceLine" id="cb7-5" title="5">   electoral_votes_<span class="dv">2016</span><span class="op">$</span>perc_rep, </a>
<a class="sourceLine" id="cb7-6" title="6">  <span class="dt">height =</span> <span class="dv">30</span>, <span class="dt">buffer =</span> <span class="dv">3</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb7-7" title="7"><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">"Election 2016"</span>)</a>
<a class="sourceLine" id="cb7-8" title="8"><span class="co">#&gt; Joining, by = "state_district"</span></a></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-6-1.png" width="100%"></p>
<pre><code>#&gt; Joining, by = "state_district"</code></pre>
<p><img src="reference/figures/README-unnamed-chunk-7-1.png" width="100%"></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Heike Hofmann <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-6216-5183" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID" height="16"></a> </li>
<li>Susan VanderPlas <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-3803-0972" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID" height="16"></a> </li>
<li>Kiegan Rice <br><small class="roles"> Author </small> <a href="https://orcid.org/YOUR-ORCID-ID" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID" height="16"></a> </li>
</ul>
</div>


      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/heike/electionViz"><img src="https://travis-ci.org/heike/electionViz.svg?branch=master" alt="Travis build status"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Heike Hofmann, Susan VanderPlas, Kiegan Rice.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
