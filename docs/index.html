<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Visualizing US Polls and Election Results • electionViz</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Visualizing US Polls and Election Results">
<meta property="og:description" content="What the package does (one paragraph).">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">electionViz</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="electionviz" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#electionviz" class="anchor"></a>electionViz</h1></div>
<!-- badges: start -->

<p>R package for visualizations of election (or poll) results as easy as adding <code>geom_electoral_building</code>. While the geom is still in the planning stages, several types of visualizations are implemented and ready to use.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>The development version from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="co"># install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"heike/electionViz"</span><span class="op">)</span></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>We will be inundated with information about the state of the polls in the build-up to the upcoming Presidential election of 2020.</p>
<p>With the tools of this package you will be able to pick your favorite visualization(s) and explore the results your own way.</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="co"># load the package</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">electionViz</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></pre></div>
<div id="hexbin-cartogram-of-election-results-by-state" class="section level3">
<h3 class="hasAnchor">
<a href="#hexbin-cartogram-of-election-results-by-state" class="anchor"></a>Hexbin Cartogram of Election Results by State</h3>
<p>Each state is represented by one hexagon. This map has been made available by Andrew X Hill at <a href="https://team.carto.com/u/andrew/tables/andrew.us_states_hexgrid/public/map">CARTO</a>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">elections</span><span class="op">)</span>
<span class="va">el12</span> <span class="op">&lt;-</span> <span class="va">elections</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2012</span><span class="op">)</span>
<span class="va">gg12</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/hexplot.html">hexplot</a></span><span class="op">(</span><span class="va">el12</span><span class="op">$</span><span class="va">state</span>, <span class="va">el12</span><span class="op">$</span><span class="va">perc_rep</span> <span class="op">&gt;</span> <span class="va">el12</span><span class="op">$</span><span class="va">perc_dem</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="reference/scale_fill_party.html">scale_fill_party</a></span><span class="op">(</span><span class="st">""</span>, labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Democrat"</span>, <span class="st">"Republican"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme</span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggtitle</span><span class="op">(</span><span class="st">"Election 2012"</span><span class="op">)</span>

<span class="va">el16</span> <span class="op">&lt;-</span> <span class="va">elections</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2016</span><span class="op">)</span>
<span class="va">gg16</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/hexplot.html">hexplot</a></span><span class="op">(</span><span class="va">el16</span><span class="op">$</span><span class="va">state</span>, <span class="va">el16</span><span class="op">$</span><span class="va">perc_rep</span> <span class="op">&gt;</span> <span class="va">el16</span><span class="op">$</span><span class="va">perc_dem</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="reference/scale_fill_party.html">scale_fill_party</a></span><span class="op">(</span><span class="st">""</span>, labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Democrat"</span>, <span class="st">"Republican"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme</span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggtitle</span><span class="op">(</span><span class="st">"Election 2016"</span><span class="op">)</span>

<span class="fu">gridExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html">grid.arrange</a></span><span class="op">(</span><span class="va">gg12</span>, <span class="va">gg16</span>, ncol<span class="op">=</span><span class="fl">2</span><span class="op">)</span></pre></div>
<p><img src="reference/figures/README-example-1.png" width="100%"></p>
</div>
<div id="hexbin-cartogram-of-the-us-presidential-election-by-electoral-votes" class="section level3">
<h3 class="hasAnchor">
<a href="#hexbin-cartogram-of-the-us-presidential-election-by-electoral-votes" class="anchor"></a>Hexbin Cartogram of the US Presidential Election by Electoral Votes</h3>
<p>Each state is represented by a set of hexagons corresponding in number to the state’s electoral votes. This map was adapted from the object <code>sf_FiveThirtyEightElectoralCollege</code> in Bhaskar Karambelkar’s R package <a href="https://github.com/bhaskarvk/tilegramsR">tilegramsR</a>.</p>
<p><img src="reference/figures/README-electoral-1.png" width="100%"></p>
</div>
<div id="electoral-building-of-the-us-presidential-election-by-electoral-votes-and-margin-of-victory" class="section level3">
<h3 class="hasAnchor">
<a href="#electoral-building-of-the-us-presidential-election-by-electoral-votes-and-margin-of-victory" class="anchor"></a>Electoral Building of the U.S. Presidential Election by Electoral Votes and Margin of Victory</h3>
<p>“Electoral Building” diagram, inspired by a 2000 graphic from the New York Times. Vote margin is represented on the x axis, while number of electoral votes is represented in the height.</p>
<p><img src="reference/figures/README-building-1.png" width="70%"></p>
</div>
</div>
<div id="visualization-of-polls" class="section level2">
<h2 class="hasAnchor">
<a href="#visualization-of-polls" class="anchor"></a>Visualization of Polls</h2>
<p>Accessing data of the most recent polls from RealClearPolitics or FiveThirtyEight is done with functions <code><a href="reference/rcp_update.html">rcp_update()</a></code> or <code><a href="reference/fivethirtyeight_update.html">fivethirtyeight_update()</a></code> respectively. Each one of these functions has a parameter <code>polls</code> to allow for a finer grained choice of which polls to focus on:</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="va">new_polls</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/fivethirtyeight_update.html">fivethirtyeight_update</a></span><span class="op">(</span>polls<span class="op">=</span><span class="st">"president_polls"</span><span class="op">)</span>
<span class="co">#&gt; Warning: 44 parsing failures.</span>
<span class="co">#&gt;  row               col           expected          actual                                                                  file</span>
<span class="co">#&gt; 1923 sponsor_candidate 1/0/T/F/TRUE/FALSE Nicole Galloway 'https://projects.fivethirtyeight.com/polls-page/president_polls.csv'</span>
<span class="co">#&gt; 1924 sponsor_candidate 1/0/T/F/TRUE/FALSE Nicole Galloway 'https://projects.fivethirtyeight.com/polls-page/president_polls.csv'</span>
<span class="co">#&gt; 2585 sponsor_candidate 1/0/T/F/TRUE/FALSE Al Gross        'https://projects.fivethirtyeight.com/polls-page/president_polls.csv'</span>
<span class="co">#&gt; 2586 sponsor_candidate 1/0/T/F/TRUE/FALSE Al Gross        'https://projects.fivethirtyeight.com/polls-page/president_polls.csv'</span>
<span class="co">#&gt; 2968 sponsor_candidate 1/0/T/F/TRUE/FALSE Raphael Warnock 'https://projects.fivethirtyeight.com/polls-page/president_polls.csv'</span>
<span class="co">#&gt; .... ................. .................. ............... .....................................................................</span>
<span class="co">#&gt; See problems(...) for more details.</span>
<span class="va">new_polls</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">state</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">select</span><span class="op">(</span><span class="va">poll_id</span>, <span class="va">start_date</span>, <span class="va">end_date</span>, <span class="va">pollster</span>, <span class="va">state</span>, <span class="va">candidate_name</span>, <span class="va">pct</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 6,870 x 7</span>
<span class="co">#&gt;    poll_id start_date end_date   pollster    state       candidate_name      pct</span>
<span class="co">#&gt;      &lt;dbl&gt; &lt;date&gt;     &lt;date&gt;     &lt;chr&gt;       &lt;chr&gt;       &lt;chr&gt;             &lt;dbl&gt;</span>
<span class="co">#&gt;  1   71295 2020-10-13 2020-10-16 YouGov      Arizona     Joseph R. Biden …    50</span>
<span class="co">#&gt;  2   71295 2020-10-13 2020-10-16 YouGov      Arizona     Donald Trump         47</span>
<span class="co">#&gt;  3   71296 2020-10-13 2020-10-16 YouGov      Wisconsin   Joseph R. Biden …    51</span>
<span class="co">#&gt;  4   71296 2020-10-13 2020-10-16 YouGov      Wisconsin   Donald Trump         46</span>
<span class="co">#&gt;  5   71242 2020-09-19 2020-10-16 SurveyMonk… Wyoming     Joseph R. Biden …    33</span>
<span class="co">#&gt;  6   71242 2020-09-19 2020-10-16 SurveyMonk… Wyoming     Donald Trump         66</span>
<span class="co">#&gt;  7   71242 2020-09-19 2020-10-16 SurveyMonk… Wyoming     Joseph R. Biden …    33</span>
<span class="co">#&gt;  8   71242 2020-09-19 2020-10-16 SurveyMonk… Wyoming     Donald Trump         66</span>
<span class="co">#&gt;  9   71243 2020-09-19 2020-10-16 SurveyMonk… West Virgi… Joseph R. Biden …    35</span>
<span class="co">#&gt; 10   71243 2020-09-19 2020-10-16 SurveyMonk… West Virgi… Donald Trump         63</span>
<span class="co">#&gt; # … with 6,860 more rows</span></pre></div>
<div id="polls-by-state" class="section level3">
<h3 class="hasAnchor">
<a href="#polls-by-state" class="anchor"></a>Polls by State</h3>
<p>The difference in percentage between democratic and republican percentage of the last five polls (of likely or registered voters) for each state are shown as grey points, colored points show average difference for each point. States are ordered according to difference in percentage. The yellow rectangle shows a margin of +/- 5 percent - the typical margin of error of a poll.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="co">#&gt; Warning: Removed 5 rows containing missing values (geom_point).</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="co">#&gt; Warning: Removed 5 rows containing missing values (geom_text).</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="co">#&gt; Warning: Removed 1 rows containing missing values (geom_point).</span></a></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-4-1.png" width="100%"></p>
</div>
<div id="building-of-polls" class="section level3">
<h3 class="hasAnchor">
<a href="#building-of-polls" class="anchor"></a>Building of polls</h3>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="va">state_3</span> <span class="op">&lt;-</span> <span class="va">state_3</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="op">(</span><span class="va">state</span> <span class="op">%in%</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Maine"</span>, <span class="st">"Nebraska"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="reference/electoral_building.html">electoral_building</a></span><span class="op">(</span>
    state_district <span class="op">=</span> <span class="va">state_3</span><span class="op">$</span><span class="va">state</span>, 
    electoral_votes <span class="op">=</span> <span class="va">state_3</span><span class="op">$</span><span class="va">electoral_votes</span>, 
    perc_dem <span class="op">=</span> <span class="va">state_3</span><span class="op">$</span><span class="va">perc_dem</span>, 
    perc_rep <span class="op">=</span> <span class="va">state_3</span><span class="op">$</span><span class="va">perc_rep</span>,
    source <span class="op">=</span> <span class="va">state_3</span><span class="op">$</span><span class="va">source</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="reference/scale_color_party.html">scale_color_party</a></span><span class="op">(</span><span class="st">"Party"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="reference/scale_fill_party.html">scale_fill_party</a></span><span class="op">(</span><span class="st">"Party"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme</span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggtitle</span><span class="op">(</span><span class="st">"Electoral building, based on polls"</span><span class="op">)</span></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-5-1.png" width="70%"></p>
</div>
<div id="a-snake-of-beads" class="section level3">
<h3 class="hasAnchor">
<a href="#a-snake-of-beads" class="anchor"></a>A snake of beads</h3>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="fu"><a href="reference/bead_snake_plot.html">bead_snake_plot</a></span><span class="op">(</span>
   <span class="va">electoral_votes_2016</span><span class="op">$</span><span class="va">state_district</span>,
   <span class="va">electoral_votes_2016</span><span class="op">$</span><span class="va">electoral_votes</span>,
   <span class="va">electoral_votes_2016</span><span class="op">$</span><span class="va">perc_dem</span>,
   <span class="va">electoral_votes_2016</span><span class="op">$</span><span class="va">perc_rep</span>, 
  height <span class="op">=</span> <span class="fl">30</span>, buffer <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ggtitle</span><span class="op">(</span><span class="st">"Election 2016"</span><span class="op">)</span>
<span class="co">#&gt; Joining, by = "state_district"</span></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-6-1.png" width="100%"></p>
<div class="sourceCode" id="cb8"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"><span class="co">#&gt; Joining, by = "state_district"</span></a></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-7-1.png" width="100%"></p>
<p><img src="reference/figures/README-unnamed-chunk-8-1.png" width="100%"></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Heike Hofmann <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-6216-5183" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Susan VanderPlas <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-3803-0972" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Kiegan Rice <br><small class="roles"> Author </small> <a href="https://orcid.org/YOUR-ORCID-ID" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/heike/electionViz"><img src="https://travis-ci.org/heike/electionViz.svg?branch=master" alt="Travis build status"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Heike Hofmann, Susan VanderPlas, Kiegan Rice.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
